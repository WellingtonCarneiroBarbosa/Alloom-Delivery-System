<html>
  <head>
    <script src="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.js"></script>
    <link type="text/css" rel="stylesheet" href="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.css"/>
  </head>

  <body style="border: 0; margin: 0;">

    <form action="#" method="#" id="calcular-entrega">
        <label for="city">Digite seu estado (sigla ou por extenso fds)</label>
        <input type="text" id="state">
        <br>

        <label for="city">Digite sua cidade</label>
        <input type="text" id="city">
        <br>

        <label for="city">Digite sua rua</label>
        <input type="text" id="street">
        <br>


        <label for="city">Ou insira seu cep</label>
        <input type="text" id="cep">
        <br>

        <label for="city">NÃºmero do complemento</label>
        <input type="text" id="number">
        <br>

        <button type="submit">Calcular entrega</button>

    </form>
    <div id="map" style="width: 100%; height: 530px;"></div>

    <script type="text/javascript">

        document.getElementById("calcular-entrega").onsubmit = function (e) {
          e.preventDefault();
          L.mapquest.key = 'lYrP4vF3Uk5zgTiGGuEzQGwGIVDGuy24';
          let state = document.getElementById("state").value;
          let city = document.getElementById("city").value;
          let street = document.getElementById("street").value;
          let number = document.getElementById("number").value;

          let streetnumber = number + " " + street;
            console.log(L.mapquest);

            var map = L.mapquest.map('map', {
                center: [0, 0],
                layers: L.mapquest.tileLayer('map'),
                zoom: 14,
                shape:"radius:100km|40.039401,-76.307078"
            });

            //L.mapquest.geocoding().geocode('Boston, MA');

            let requestData = "Brazil, " + state + ", " + street + ", " + streetnumber;
            console.log(requestData)

            L.mapquest.geocoding().geocode(requestData);


        }

        function createMap(error, response) {
            console.log(response);

            var location = response.results[0].locations[0];
            var latLng = location.displayLatLng;
            var map = L.mapquest.map('map', {
              center: latLng,
              layers: L.mapquest.tileLayer('map'),
              zoom: 18
            });
          }
      </script>
  </body>
</html>
